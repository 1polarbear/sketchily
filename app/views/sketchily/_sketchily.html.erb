<% # Clients of this partial must supply the following variables:
   # template
   # object_name
   # method
   # options %>

<% sketchily_tag = ActionView::Helpers::InstanceTag.new(object_name, method, template, options.delete(:object)) %>

<%= render :partial => "sketchily/embed",
           :formats => :html,
           :locals => {:id => sketchily_tag.send(:tag_id),
                       :value => sketchily_tag.value(sketchily_tag.object),
                       :show_menu => options[:show_menu],
                       :width => options[:width],
                       :height => options[:height]} %>

<%= sketchily_tag.to_input_field_tag("hidden", options.except(:show_menu, :width, :height)) %>

