<% # Clients of this partial must supply the following variables:
   # id
   # value
   #
   # Additionally, they may override the following variables:
   show_menu ||= false
   hide_image_tool ||= false
   canvas_width ||= 640
   canvas_height ||= 480
   canvas_expansion ||= 3
   hide_rulers ||= false
   width ||= "750px"
   height ||= "650px" %>

<%= javascript_include_tag "embedapi" %>
<%= javascript_include_tag "svgutils" %>

<script type="text/javascript">
  <%= render :partial => "sketchily/embed",
             :formats => :js,
             :locals => {:id => id,
                         :value => value,
                         :show_menu => show_menu,
                         :hide_image_tool => hide_image_tool} %>
</script>

<%= tag(
  :iframe,
  :src => "/assets/svg-editor.html?source=&dimensions=#{canvas_width},#{canvas_height}&canvas_expansion=#{canvas_expansion}&showRulers=#{!hide_rulers}",
  :width => width,
  :height => height,
  :id => "svgedit_#{id}",
  :onload => "initEmbed_#{id}();"
)%>
